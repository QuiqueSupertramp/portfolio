import{T as _}from"./Title.e2d99776.js";import{r as n}from"./vendor.607369a9.js";import{j as s,a}from"./index.df55ca66.js";var g="/portfolio/assets/contact.499705cd.png";const m=e=>{const[t,o]=n.exports.useState(""),[r,c]=n.exports.useState(!1),[i,l]=n.exports.useState(!1),u=h=>o(h.target.value),v=()=>o(""),p=()=>l(!0),f=()=>l(!1);return n.exports.useEffect(()=>{if(!!e){if(t.length===0)return c(!1);e.test(t)?c(!1):c(!0)}},[t]),{value:t,error:r,active:i,onChange:u,onFocus:p,onBlur:f,reset:v}},x="https://formspree.io/f/xnqwvpbo",N=async e=>await(await fetch(x,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json"}})).json(),d={email:{regularExp:/^[a-zñÑ0-9_-]+(?:\.[a-zñÑ0-9_-]+)*@(?:[a-z0-9](?:[a-z0-9-_]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9]*[a-z0-9])?$/,errorMessage:"El email es incorrecto"}},j=()=>{const e=m(d.email.regularExp),t=m(),[o,r]=n.exports.useState(null);return s("div",{className:"contact",children:[a(_,{text:"Say Hello!",number:"4"}),s("div",{className:"contact__container",children:[s("form",{className:"contact__form",onSubmit:i=>{if(i.preventDefault(),!e.error&&t.value.length!==0){const l={email:e.value,comment:t.value};N(l).then(u=>{u.ok===!0?(r(!1),e.reset(),t.reset()):r(!0),setTimeout(()=>{r(null)},4e3)})}},children:[s("div",{className:"contact__email",children:[a("input",{type:"email",className:["contact__emailInput",e.active?"active":null].join(" "),placeholder:"Email...",value:e.value,onChange:e.onChange,onFocus:e.onFocus,onBlur:e.onBlur,required:!0}),a("div",{className:"contact__emailError",children:e.error&&s("p",{children:["* ",d.email.errorMessage]})})]}),a("textarea",{className:["contact__comment",t.active?"active":null].join(" "),rows:"6",placeholder:"Mensaje...",value:t.value,onChange:t.onChange,onFocus:t.onFocus,onBlur:t.onBlur,required:!0}),o!==null&&a("div",{className:"contact__error",children:a("h4",{children:o===!1?"Mensaje enviado correctamente":"No se ha podido enviar"})}),a("input",{type:"submit",className:"contact__submitBtn",value:"Enviar"})]}),a("div",{className:"contact__image",children:a("img",{src:g,alt:""})})]})]})};export{j as default};
